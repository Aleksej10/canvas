(this.webpackJsonphighlow=this.webpackJsonphighlow||[]).push([[0],{17:function(e,t,a){e.exports=a.p+"static/media/deck.68ee077c.png"},19:function(e,t,a){e.exports=a(33)},32:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(3),s=a(2),o=a(5),l=a(4),i=a(15),u=a(1),m=a(16),p=a.n(m),d=a(9),b=a(10),f=a(12),v=a(11),h=a(18),y=(a(32),a(17)),g=a.n(y);function k(e,t){var a=document.getElementById("logger-div"),n=document.getElementById("logger-p");a.style.opacity=0,n.style.color=t,n.innerText=e,a.style.opacity=1,"black"!==t&&setTimeout((function(){a.style.opacity=0}),2e3)}function E(){for(var e=Object(h.a)(Array(52).keys()),t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=[e[a],e[t]];e[t]=n[0],e[a]=n[1]}return e}function N(e){return{value:e,text:["2","3","4","5","6","7","8","9","10","J","Q","K","A"][e%13],suit:["\u2764","\u2666","\u2660","\u2663"][Math.floor(e/13)],color:["red","red","black","black"][Math.floor(e/13)]}}function j(e){var t=N(e.value),a=null===e.guess?"":e.guess?"\ud83d\udd3a":"\ud83d\udd3b";return c.a.createElement("div",{className:"tcard"},c.a.createElement("div",{className:"vbox"},c.a.createElement("p",{className:"card-p",style:{color:t.color}}," ",t.text," "),c.a.createElement("p",{className:"card-p",style:{color:t.color}}," ",t.suit," ")),c.a.createElement("div",{className:"vbox"},c.a.createElement("p",{className:"card-p"}," ",a," ")))}function x(e){var t=N(e.value),a="lcard "+e.outcome;return c.a.createElement("div",{className:a},c.a.createElement("div",{className:"pipValue"},c.a.createElement("p",{className:"card-p",style:{color:t.color}}," ",t.text," "),c.a.createElement("p",{className:"card-p",style:{color:t.color}}," ",t.suit," ")),c.a.createElement("div",{className:"pipValue upSideDown"},c.a.createElement("p",{className:"card-p",style:{color:t.color}}," ",t.suit," "),c.a.createElement("p",{className:"card-p",style:{color:t.color}}," ",t.text," ")))}function O(e){return c.a.createElement("div",{className:"deck"},c.a.createElement("div",{className:"bet",onClick:function(){return e.onClick(!0)}}," ",c.a.createElement("p",{className:"bet-p"},"\ud83d\udc46")," "),c.a.createElement("div",{className:"bet",onClick:function(){return e.onClick(!1)}}," ",c.a.createElement("p",{className:"bet-p"},"\ud83d\udc47")," "))}function w(e){for(var t=e.cards,a=e.index,n=[],r=0;r<a;r++){var s=a>0?e.guesses[r]:null;n.push(c.a.createElement(j,{key:r,value:t[r],guess:s}))}var o=a<0?null:c.a.createElement(x,{value:t[a],outcome:e.outcome});return c.a.createElement("div",{className:"cards"},c.a.createElement(O,{onClick:function(t){return e.onClick(t)}}),n,o,c.a.createElement("div",{className:"vbox"},c.a.createElement("p",{className:"bet-p"}," your money: ",e.inGameMoney," "),c.a.createElement("div",{className:"btn",onClick:function(){return e.collect()}},c.a.createElement("p",{className:"bet-p"}," collect "))))}function G(e){return c.a.createElement("div",{className:"vbox"},c.a.createElement("div",{className:"hbox"},c.a.createElement("div",{className:"btn",onClick:function(){return e.newGame()}},c.a.createElement("p",{className:"bet-p"}," new game ")),c.a.createElement("p",{className:"bet-p"}," bet: ",e.bet," "),c.a.createElement("div",{className:"btn",onClick:function(){return e.incBet()}},c.a.createElement("p",{className:"bet-p"}," + ")),c.a.createElement("div",{className:"btn",onClick:function(){return e.decBet()}},c.a.createElement("p",{className:"bet-p"}," - ")),c.a.createElement("p",{className:"bet-p"}," total: ",e.total," \ud83d\udcb0")),c.a.createElement("div",{className:"btn",onClick:function(){return e.reset()}},c.a.createElement("p",{className:"bet-p"}," reset ")))}var M=function(e){Object(f.a)(a,e);var t=Object(v.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.refs.deckImg.onload=function(){e.draw_cards()}}},{key:"componentDidUpdate",value:function(){this.clearCanvas(),this.draw_cards()}},{key:"clearCanvas",value:function(){this.refs.ref.getContext("2d").clearRect(0,0,this.refs.ref.width,this.refs.ref.height)}},{key:"draw_cards",value:function(){for(var e=0;e<=this.props.index;e++)this.draw_card(this.props.cards[e],12*e,e>0?this.props.guesses[e-1]?0:10:0)}},{key:"draw_card",value:function(e,t,a){var n=this.refs.ref.getContext("2d"),c=e%13*64,r=96*Math.floor(e/13);n.drawImage(this.refs.deckImg,c,r,64,96,t,a,64,144)}},{key:"render",value:function(){return c.a.createElement("div",{className:"vbox"},c.a.createElement("canvas",{ref:"ref",className:"GameCanvas"}),c.a.createElement("img",{ref:"deckImg",className:"HiddenImage",src:g.a,alt:"deck"}))}}]),a}(c.a.Component),B=function(e){Object(f.a)(a,e);var t=Object(v.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"deckClick",value:function(e){if(0!==this.props.inGameMoney)if(this.props.index>=51)k("deck is empy, like this will ever happen!","green");else{var t,a,n=this.props.cards[this.props.index]%13,c=this.props.cards[this.props.index+1]%13,r=(a=c)!==(t=n)&&a>t===e;this.props.setGlow(r,e),this.props.updateBank(r)}else k("start a new game","red")}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"game"},c.a.createElement("div",{className:"vbox"},c.a.createElement(w,{index:this.props.index,cards:this.props.cards,outcome:this.props.outcome,onClick:function(t){return e.deckClick(t)},collect:function(){return e.props.collect()},inGameMoney:this.props.inGameMoney,guesses:this.props.guesses})),c.a.createElement(M,{index:this.props.index,cards:this.props.cards,guesses:this.props.guesses}),c.a.createElement(G,{bet:this.props.bet,total:this.props.total,incBet:function(){return e.props.incBet()},decBet:function(){return e.props.decBet()},reset:function(){return e.props.reset()},newGame:function(){return e.props.newGame()}}),c.a.createElement("div",{className:"logger-div",id:"logger-div"},c.a.createElement("p",{className:"logger-p",id:"logger-p"}," ")))}}]),a}(c.a.Component),C=Object(l.b)((function(e){return{index:e.index,cards:e.cards,bet:e.bet,total:e.total,outcome:e.outcome,inGameMoney:e.inGameMoney,guesses:e.guesses}}),(function(e){return{reset:function(){e({type:"reset"})},collect:function(){e({type:"collect"})},doubleBet:function(){e({type:"doubleBet"})},newGame:function(){e({type:"newGame"})},decBet:function(){e({type:"decBet"})},incBet:function(){e({type:"incBet"})},setGlow:function(t,a){e({type:"setGlow",outcome:t,guess:a})},updateBank:function(t){e({type:"updateBank",outcome:t})}}}))(B),I={key:"root",storage:p.a},_=Object(o.a)(I,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{index:-1,bet:10,total:90,outcome:"",guesses:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"reset":e=Object(u.a)(Object(u.a)({},e),{},{index:-1,cards:E(),bet:10,total:90,outcome:"",inGameMoney:0,guesses:[]});break;case"collect":if(0===e.inGameMoney){k("you have nothing to collect!","red");break}var a=e.total+e.inGameMoney;e=Object(u.a)(Object(u.a)({},e),{},{total:a,inGameMoney:0});break;case"doubleBet":e=Object(u.a)(Object(u.a)({},e),{},{inGameMoney:2*e.inGameMoney});break;case"newGame":var n=e.bet;if(0===n){k("minimum bet is 5","orange");break}if(0!==e.inGameMoney){k("finish the game you started first!","teal");break}e=Object(u.a)(Object(u.a)({},e),{},{index:0,cards:E(),inGameMoney:n,outcome:"",bet:0,guesses:[]});break;case"decBet":if(e.bet<=10)break;e=Object(u.a)(Object(u.a)({},e),{},{bet:e.bet+5,total:e.total-5});break;case"incBet":var c=e.total<5?e.total:5;e=Object(u.a)(Object(u.a)({},e),{},{bet:e.bet+c,total:e.total-c});break;case"setGlow":e=Object(u.a)(Object(u.a)({},e),{},{index:e.index+1,outcome:t.outcome?"green-glow":"red-glow",guesses:e.guesses.concat([t.guess])});break;case"updateBank":t.outcome?e=Object(u.a)(Object(u.a)({},e),{},{inGameMoney:2*e.inGameMoney}):(e=Object(u.a)(Object(u.a)({},e),{},{inGameMoney:0}),k("you lost this round","grey"))}return e})),D=Object(s.c)(_),J=Object(o.b)(D);D.subscribe((function(){})),Object(r.render)(c.a.createElement(l.a,{store:D},c.a.createElement(i.a,{loading:null,persistor:J},c.a.createElement(C,null))),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.1b65cd88.chunk.js.map